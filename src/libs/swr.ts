import useSWR from 'swr'
import type { paths } from '@/types/openapi/autoGenerated'
import type { Response } from '@/types/openapi/extractor'
import type { SWRConfiguration } from 'swr'

export const useOpenApiSWR = <
  Path extends keyof paths,
  Method extends keyof paths[Path] = 'get' extends keyof paths[Path]
    ? 'get'
    : never,
>(
  url: Path,
  options?: SWRConfiguration
) => {
  return useSWR<Response<Path, Method>>(url, options)
}
